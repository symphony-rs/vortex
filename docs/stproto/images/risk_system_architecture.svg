<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="900" height="700" fill="#f8f9fa" rx="10" ry="10"/>
  <text x="450" y="40" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold">风险管理系统架构</text>
  
  <!-- 数据源层 -->
  <rect x="50" y="85" width="800" height="80" fill="#e3f2fd" stroke="#90caf9" stroke-width="2" rx="5" ry="5"/>
  <text x="80" y="115" font-family="Arial" font-size="16" font-weight="bold">数据源层</text>
  
  <!-- 数据源图标 -->
  <rect x="200" y="100" width="100" height="50" fill="#bbdefb" stroke="#64b5f6" stroke-width="1" rx="3" ry="3"/>
  <text x="250" y="130" text-anchor="middle" font-family="Arial" font-size="12">交易所API</text>
  
  <rect x="350" y="100" width="100" height="50" fill="#bbdefb" stroke="#64b5f6" stroke-width="1" rx="3" ry="3"/>
  <text x="400" y="130" text-anchor="middle" font-family="Arial" font-size="12">交易系统日志</text>
  
  <rect x="500" y="100" width="100" height="50" fill="#bbdefb" stroke="#64b5f6" stroke-width="1" rx="3" ry="3"/>
  <text x="550" y="130" text-anchor="middle" font-family="Arial" font-size="12">市场数据订阅</text>
  
  <rect x="650" y="100" width="100" height="50" fill="#bbdefb" stroke="#64b5f6" stroke-width="1" rx="3" ry="3"/>
  <text x="700" y="130" text-anchor="middle" font-family="Arial" font-size="12">系统运行指标</text>
  
  <!-- 箭头指向数据处理层 -->
  <line x1="250" y1="150" x2="250" y2="175" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="400" y1="150" x2="400" y2="175" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="550" y1="150" x2="550" y2="175" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="700" y1="150" x2="700" y2="175" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  
  <!-- 数据处理层 -->
  <rect x="50" y="185" width="800" height="100" fill="#e8f5e9" stroke="#a5d6a7" stroke-width="2" rx="5" ry="5"/>
  <text x="80" y="215" font-family="Arial" font-size="16" font-weight="bold">数据处理层</text>
  
  <!-- 数据处理模块 -->
  <rect x="120" y="220" width="150" height="50" fill="#c8e6c9" stroke="#81c784" stroke-width="1" rx="3" ry="3"/>
  <text x="195" y="245" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">数据收集与清洗</text>
  <text x="195" y="260" text-anchor="middle" font-family="Arial" font-size="10">标准化/去噪/补缺</text>
  
  <rect x="320" y="220" width="150" height="50" fill="#c8e6c9" stroke="#81c784" stroke-width="1" rx="3" ry="3"/>
  <text x="395" y="245" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">异常检测</text>
  <text x="395" y="260" text-anchor="middle" font-family="Arial" font-size="10">统计分析/离群值识别</text>
  
  <rect x="520" y="220" width="150" height="50" fill="#c8e6c9" stroke="#81c784" stroke-width="1" rx="3" ry="3"/>
  <text x="595" y="245" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">实时计算</text>
  <text x="595" y="260" text-anchor="middle" font-family="Arial" font-size="10">流处理/增量计算</text>
  
  <rect x="720" y="220" width="80" height="50" fill="#c8e6c9" stroke="#81c784" stroke-width="1" rx="3" ry="3"/>
  <text x="760" y="245" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">缓存</text>
  <text x="760" y="260" text-anchor="middle" font-family="Arial" font-size="10">数据缓存</text>
  
  <!-- 箭头指向风险分析层 -->
  <line x1="195" y1="270" x2="195" y2="295" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="395" y1="270" x2="395" y2="295" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="595" y1="270" x2="595" y2="295" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="760" y1="270" x2="760" y2="295" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  
  <!-- 风险分析层 -->
  <rect x="50" y="305" width="800" height="130" fill="#fff3e0" stroke="#ffe0b2" stroke-width="2" rx="5" ry="5"/>
  <text x="80" y="335" font-family="Arial" font-size="16" font-weight="bold">风险分析层</text>
  
  <!-- 风险分析模块 -->
  <rect x="100" y="345" width="140" height="70" fill="#ffe0b2" stroke="#ffb74d" stroke-width="1" rx="3" ry="3"/>
  <text x="170" y="370" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">市场风险分析</text>
  <text x="170" y="385" text-anchor="middle" font-family="Arial" font-size="10">• 波动率分析</text>
  <text x="170" y="400" text-anchor="middle" font-family="Arial" font-size="10">• 流动性分析</text>
  
  <rect x="270" y="345" width="140" height="70" fill="#ffe0b2" stroke="#ffb74d" stroke-width="1" rx="3" ry="3"/>
  <text x="340" y="370" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">交易策略风险</text>
  <text x="340" y="385" text-anchor="middle" font-family="Arial" font-size="10">• 策略表现监控</text>
  <text x="340" y="400" text-anchor="middle" font-family="Arial" font-size="10">• 参数偏离分析</text>
  
  <rect x="440" y="345" width="140" height="70" fill="#ffe0b2" stroke="#ffb74d" stroke-width="1" rx="3" ry="3"/>
  <text x="510" y="370" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">交易风险分析</text>
  <text x="510" y="385" text-anchor="middle" font-family="Arial" font-size="10">• 订单分析</text>
  <text x="510" y="400" text-anchor="middle" font-family="Arial" font-size="10">• 价格偏离分析</text>
  
  <rect x="610" y="345" width="140" height="70" fill="#ffe0b2" stroke="#ffb74d" stroke-width="1" rx="3" ry="3"/>
  <text x="680" y="370" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">系统风险分析</text>
  <text x="680" y="385" text-anchor="middle" font-family="Arial" font-size="10">• 系统性能监控</text>
  <text x="680" y="400" text-anchor="middle" font-family="Arial" font-size="10">• 连接状态分析</text>
  
  <!-- 箭头指向风险决策层 -->
  <line x1="170" y1="415" x2="170" y2="445" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="340" y1="415" x2="340" y2="445" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="510" y1="415" x2="510" y2="445" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="680" y1="415" x2="680" y2="445" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  
  <!-- 风险决策层 -->
  <rect x="50" y="455" width="800" height="100" fill="#f3e5f5" stroke="#ce93d8" stroke-width="2" rx="5" ry="5"/>
  <text x="80" y="485" font-family="Arial" font-size="16" font-weight="bold">风险决策层</text>
  
  <!-- 风险决策模块 -->
  <rect x="150" y="490" width="170" height="50" fill="#e1bee7" stroke="#ba68c8" stroke-width="1" rx="3" ry="3"/>
  <text x="235" y="515" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">风险评估引擎</text>
  <text x="235" y="530" text-anchor="middle" font-family="Arial" font-size="10">综合评分/风险等级判定</text>
  
  <rect x="380" y="490" width="170" height="50" fill="#e1bee7" stroke="#ba68c8" stroke-width="1" rx="3" ry="3"/>
  <text x="465" y="515" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">决策规则引擎</text>
  <text x="465" y="530" text-anchor="middle" font-family="Arial" font-size="10">阈值管理/规则触发</text>
  
  <rect x="610" y="490" width="170" height="50" fill="#e1bee7" stroke="#ba68c8" stroke-width="1" rx="3" ry="3"/>
  <text x="695" y="515" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">干预措施生成</text>
  <text x="695" y="530" text-anchor="middle" font-family="Arial" font-size="10">干预级别/措施执行</text>
  
  <!-- 箭头指向应用层 -->
  <line x1="235" y1="540" x2="235" y2="565" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="465" y1="540" x2="465" y2="565" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  <line x1="695" y1="540" x2="695" y2="565" stroke="#666" stroke-width="1" stroke-dasharray="5,2"/>
  
  <!-- 应用层 -->
  <rect x="50" y="575" width="800" height="100" fill="#e8eaf6" stroke="#9fa8da" stroke-width="2" rx="5" ry="5"/>
  <text x="80" y="605" font-family="Arial" font-size="16" font-weight="bold">应用层</text>
  
  <!-- 应用模块 -->
  <rect x="120" y="610" width="150" height="50" fill="#c5cae9" stroke="#7986cb" stroke-width="1" rx="3" ry="3"/>
  <text x="195" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">风险监控面板</text>
  <text x="195" y="650" text-anchor="middle" font-family="Arial" font-size="10">可视化/指标展示</text>
  
  <rect x="320" y="610" width="150" height="50" fill="#c5cae9" stroke="#7986cb" stroke-width="1" rx="3" ry="3"/>
  <text x="395" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">警报系统</text>
  <text x="395" y="650" text-anchor="middle" font-family="Arial" font-size="10">通知/预警/升级</text>
  
  <rect x="520" y="610" width="150" height="50" fill="#c5cae9" stroke="#7986cb" stroke-width="1" rx="3" ry="3"/>
  <text x="595" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">交易干预接口</text>
  <text x="595" y="650" text-anchor="middle" font-family="Arial" font-size="10">限制/暂停/平仓</text>
  
  <rect x="720" y="610" width="80" height="50" fill="#c5cae9" stroke="#7986cb" stroke-width="1" rx="3" ry="3"/>
  <text x="760" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">报表</text>
  <text x="760" y="650" text-anchor="middle" font-family="Arial" font-size="10">风险报告</text>
  
  <!-- 连接器 -->
  <rect x="20" y="140" width="30" height="450" rx="15" ry="15" fill="#eceff1" stroke="#cfd8dc" stroke-width="2"/>
  <text x="35" y="365" transform="rotate(-90, 35, 365)" font-family="Arial" font-size="16" font-weight="bold" fill="#78909c">事件总线</text>
  
  <!-- 右侧数据存储 -->
  <rect x="850" y="305" width="30" height="250" rx="15" ry="15" fill="#eceff1" stroke="#cfd8dc" stroke-width="2"/>
  <text x="865" y="430" transform="rotate(90, 865, 430)" font-family="Arial" font-size="16" font-weight="bold" fill="#78909c">数据存储</text>
  
  <!-- 连接线到事件总线 -->
  <line x1="120" y1="245" x2="50" y2="245" stroke="#666" stroke-width="1"/>
  <line x1="100" y1="380" x2="50" y2="380" stroke="#666" stroke-width="1"/>
  <line x1="150" y1="515" x2="50" y2="515" stroke="#666" stroke-width="1"/>
  <line x1="120" y1="635" x2="50" y2="635" stroke="#666" stroke-width="1"/>
  
  <!-- 连接线到数据存储 -->
  <line x1="750" y1="380" x2="850" y2="380" stroke="#666" stroke-width="1"/>
  <line x1="780" y1="515" x2="850" y2="515" stroke="#666" stroke-width="1"/>
  <line x1="800" y1="635" x2="850" y2="635" stroke="#666" stroke-width="1"/>
  
  <!-- 系统特性标签 -->
  <rect x="180" y="50" width="100" height="25" fill="#0277bd" rx="12" ry="12"/>
  <text x="230" y="67" text-anchor="middle" font-family="Arial" font-size="12" fill="white">多层次架构</text>
  
  <rect x="300" y="50" width="100" height="25" fill="#0277bd" rx="12" ry="12"/>
  <text x="350" y="67" text-anchor="middle" font-family="Arial" font-size="12" fill="white">实时处理</text>
  
  <rect x="420" y="50" width="100" height="25" fill="#0277bd" rx="12" ry="12"/>
  <text x="470" y="67" text-anchor="middle" font-family="Arial" font-size="12" fill="white">分布式设计</text>
  
  <rect x="540" y="50" width="100" height="25" fill="#0277bd" rx="12" ry="12"/>
  <text x="590" y="67" text-anchor="middle" font-family="Arial" font-size="12" fill="white">可扩展性</text>
  
  <rect x="660" y="50" width="100" height="25" fill="#0277bd" rx="12" ry="12"/>
  <text x="710" y="67" text-anchor="middle" font-family="Arial" font-size="12" fill="white">高可用性</text>
</svg> 